# ------------ General ------------
LOG_LEVEL=info
DATA_DIR=./data

# ------------ WhatsApp (Baileys / WhatsApp Web) ------------
# Folder to store WhatsApp auth (QR login) state.
WA_SESSION_DIR=./data/wa_auth

# Optional. Comma-separated list of group IDs allowed (ends with @g.us).
# Example: 1203630XXXXXXX@g.us,1203630YYYYYYY@g.us
WA_ALLOWED_GROUP_IDS=

# How long to wait to collect multiple photos for the same product before starting analysis.
PHOTO_COLLECT_WINDOW_SEC=45

# Privacy/safety: if true, the bot will only accept images after the user starts a session
# with `!ml-bot novo`. This avoids downloading/storing unrelated group photos.
WA_REQUIRE_COMMAND_FOR_IMAGES=true

# Max image size accepted by the bot (in bytes). Use 0 to disable the check.
WA_MAX_IMAGE_BYTES=10000000

# Anti-spam / human-like delays (recommended when using Baileys)
WA_HUMAN_DELAY_MS_MIN=1000
WA_HUMAN_DELAY_MS_MAX=3000
WA_SEND_INTERVAL_MS=1000
WA_SEND_INTERVAL_CAP=3

# ------------ Admin Web (configuração local) ------------
# Painel para editar configurações não sensíveis sem mexer no .env.
ADMIN_WEB_ENABLED=true
ADMIN_WEB_HOST=127.0.0.1
ADMIN_WEB_PORT=8787

# Obrigatório quando ADMIN_WEB_ENABLED=true.
# Esta senha é usada no login do painel web.
ADMIN_WEB_TOKEN=

# ------------ Cleanup / Retention ------------
# How long to keep local photos from finished sessions.
MEDIA_RETENTION_HOURS=168

# Cancel sessions that got stuck (no activity) after this many hours.
SESSION_INACTIVE_HOURS=72

# How long to keep finished sessions in the JSON db (helps prevent db.json growth).
SESSION_RETENTION_DAYS=90

# How often to run cleanup (minutes).
CLEANUP_INTERVAL_MIN=360

# ------------ Security ------------
# Chave para criptografar tokens do Mercado Livre no db.json.
# Recomendado em produção. Nunca exponha no chat.
STORAGE_ENCRYPTION_KEY=

# ------------ OpenAI (Vision + text) ------------
# Optional: use an OpenAI-compatible gateway (ex: LiteLLM)
# Example: http://docker.lan:4000/v1
OPENAI_BASE_URL=
OPENAI_API_KEY=
OPENAI_MODEL_VISION=gpt-4o-mini

# ------------ Gemini (Code Review Helper) ------------
# Uses the installed `gemini` CLI (must be logged in). Optional:
GEMINI_MODEL=

# ------------ Mercado Livre ------------
# Default is Brazil (MLB). If you sell in another country, change site id.
ML_SITE_ID=MLB

# OAuth app credentials (required to publish).
ML_CLIENT_ID=
ML_CLIENT_SECRET=
ML_REFRESH_TOKEN=

# Only used by the helper script (npm run ml:oauth)
ML_REDIRECT_URI=http://localhost:3333/callback

# Listing defaults
ML_CURRENCY_ID=BRL
ML_LISTING_TYPE_ID=gold_special
ML_BUYING_MODE=buy_it_now
ML_DEFAULT_QUANTITY=1

# If true, the bot will NOT create/publish anything (it will only generate previews).
ML_DRY_RUN=false
